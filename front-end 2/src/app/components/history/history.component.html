<app-header></app-header>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-2 pl-0">
      <app-left-menu></app-left-menu>
    </div>
    <div class="col-lg-10">
      <div class="mt-2">
        <div>
          <h1>History:</h1>
          <div>
            <p *ngIf="history.length === 0">This block has no transactions</p>

            <table
              class="table table-hover table-striped"
              *ngIf="history.length > 0"
            >
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">From</th>
                  <th scope="col">To</th>
                  <th scope="col">Amount</th>
                  <th scope="col">Timestamp</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let tx of history; index as index">
                  <td>{{ index }}</td>
                  <td class="text-truncate" style="max-width: 100px">
                    <a *ngIf="tx.fromAddress !== null">{{ tx.fromAddress }}</a>
                    <span
                      *ngIf="tx.fromAddress === myWalletAddress"
                      class="text-muted"
                    >
                      <br /><small>That's your</small></span
                    >
                    <span *ngIf="tx.fromAddress === null">System</span>
                  </td>
                  <td class="text-truncate" style="max-width: 100px">
                    <a>{{ tx.toAddress }}</a>
                    <br />
                    <span
                      *ngIf="tx.toAddress === myWalletAddress"
                      class="text-muted"
                      ><small>That's your</small></span
                    >
                  </td>
                  <td>
                    {{ tx.amount }}

                    <span *ngIf="tx.fromAddress === null" class="text-muted"
                      ><br /><small>(Block reward)</small></span
                    >
                  </td>
                  <td>
                    {{ tx.timestamp }}<br />
                    <span class="text-muted"
                      ><small>{{
                        tx.timestamp | date: "MMM d, y, HH:mm"
                      }}</small></span
                    >
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
